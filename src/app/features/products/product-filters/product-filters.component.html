<div class="filters-container">
  <div class="filters-header">
    <h2>Filters</h2>
    <div class="filters-actions">
      <button mat-button color="accent" (click)="clearFilters()">Clear All</button>
      <button mat-icon-button class="close-filters-btn d-block d-md-none" (click)="closeFilters()">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </div>

  <form [formGroup]="filterForm">
    <mat-form-field class="full-width">
      <mat-label>Search</mat-label>
      <input matInput formControlName="keyWord" placeholder="Search products...">
    </mat-form-field>

    <mat-form-field class="full-width">
      <mat-label>Sort By</mat-label>
      <mat-select formControlName="orderBy" #orderBySelect (selectionChange)="onSelectChange(orderBySelect)">
        <mat-option>None</mat-option>
        @for (option of sortOptions; track option.value) {
          <mat-option [value]="option.value">{{ option.label }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field class="full-width">
      <mat-label>Gender</mat-label>
      <mat-select formControlName="gender" #genderSelect (selectionChange)="onSelectChange(genderSelect)">
        <mat-option>All</mat-option>
        @for (gender of genders; track gender) {
          <mat-option [value]="gender">{{ gender }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field class="full-width">
      <mat-label>Category</mat-label>
      <mat-select formControlName="category" #categorySelect (selectionChange)="onSelectChange(categorySelect)">
        <mat-option>All</mat-option>
        @for (category of categories; track category) {
          <mat-option [value]="category">{{ category }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field class="full-width">
      <mat-label>Brands</mat-label>
      <mat-select formControlName="brand" multiple #brandSelect (selectionChange)="onSelectChange(brandSelect)">
        @for (brand of brands; track brand) {
          <mat-option [value]="brand">{{ brand }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field class="full-width">
      <mat-label>Sizes</mat-label>
      <mat-select formControlName="size" multiple #sizeSelect (selectionChange)="onSelectChange(sizeSelect)">
        @for (size of sizes; track size) {
          <mat-option [value]="size">{{ size.replace('SIZE_', '') }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field class="full-width">
      <mat-label>Colors</mat-label>
      <mat-select formControlName="color" multiple #colorSelect (selectionChange)="onSelectChange(colorSelect)">
        @for (color of colors; track color) {
          <mat-option [value]="color">
            <span class="color-option">
              <span class="color-circle" [style.background-color]="color.toLowerCase()"></span>
              {{ color }}
            </span>
          </mat-option>
        }
      </mat-select>
    </mat-form-field>
  </form>
</div>
